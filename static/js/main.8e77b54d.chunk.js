(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{24:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(17),c=a.n(r),l=(a(24),a(8)),i=function(){return n.createElement("div",{className:"title"},n.createElement("h1",null,"FireGram"),n.createElement("h2",null,"Your Pictures"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))},s=a(12),u=a.n(s),o=a(18),m=a(11);a(28),a(29);m.a.initializeApp({apiKey:"AIzaSyBQNkxnlbyG0zDzUXcSFHVRIVa3qZBqAYo",authDomain:"photo-gallery-react-firebase.firebaseapp.com",projectId:"photo-gallery-react-firebase",storageBucket:"photo-gallery-react-firebase.appspot.com",messagingSenderId:"200343907617",appId:"1:200343907617:web:2972d6b1add34e063a6260"});var d=m.a.storage(),p=m.a.firestore(),f=m.a.firestore.FieldValue.serverTimestamp,g=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),s=Object(l.a)(i,2),m=s[0],g=s[1],b=Object(n.useState)(null),E=Object(l.a)(b,2),v=E[0],y=E[1];return Object(n.useEffect)((function(){var t=d.ref(e.name),a=p.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){g(e)}),Object(o.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=f(),a.add({url:n,createdAt:r}),y(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:v,error:m}},b=a(31),E=function(e){var t=e.file,a=e.setFile,r=g(t),c=r.progress,l=r.url;return n.useEffect((function(){l&&a(null)}),[l,a]),n.createElement(b.a.div,{className:"progress-bar",initial:{width:0},animate:{width:c+"%"}})},v=function(){var e=n.useState(null),t=Object(l.a)(e,2),a=t[0],r=t[1],c=n.useState(null),i=Object(l.a)(c,2),s=i[0],u=i[1],o=["image/png","image/jpeg"];return n.createElement("form",null,n.createElement("label",null,n.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&o.includes(t.type)?(r(t),u("")):(r(null),u("Please select an image file (png or jpeg)"))}}),n.createElement("span",null,"+")),n.createElement("div",{className:"output"},s&&n.createElement("div",{className:"error"},s),a&&n.createElement("div",null,a.name),a&&n.createElement(E,{file:a,setFile:r})))},y=a(13),h=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(y.a)(Object(y.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:r}},j=function(e){var t=e.setSelectedImg,a=h("images").docs;return n.createElement("div",{className:"img-grid"},a&&a.map((function(e){return n.createElement(b.a.div,{className:"img-wrap",key:e.id,layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)}},n.createElement(b.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},O=function(e){var t=e.selectedImg,a=e.setSelectedImg;return n.createElement(b.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},n.createElement(b.a.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}}))};var S=function(){var e=n.useState(null),t=Object(l.a)(e,2),a=t[0],r=t[1];return n.createElement("div",{className:"App"},n.createElement(i,null),n.createElement(v,null),n.createElement(j,{setSelectedImg:r}),a&&n.createElement(O,{selectedImg:a,setSelectedImg:r}))};c.a.render(n.createElement(n.StrictMode,null,n.createElement(S,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8e77b54d.chunk.js.map